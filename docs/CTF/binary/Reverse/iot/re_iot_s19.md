直接ida打开s19文件，显示为 Motorola S-record Format, type选ARM Little-endian。直接有函数解析 

- 下面先不用看


010 Editor打开后自动转成bin文件了，直接保存即可。

[痞子衡嵌入式：ARM Cortex-M 文件那些事（8）- 镜像文件(.bin/.hex/.s19) - 掘金](https://juejin.cn/post/6964716708204380173)

Motorola 镜像文件标准 S-Record

编程器/下载器在解析 S-Record 文件时，先找到帧前导码，然后找到帧类型，如果该帧为数据帧，再根据帧长度，将该帧机器码数据全部读出放到缓存里，在做完帧和校验后，如果没有错误，最后根据帧机器码存储地址将帧机器码数据下载到芯片指定存储器地址处，至此一帧处理结束，进入下一帧，直到所有帧全部处理完。
关于 checksum 的计算方法，其是将 Byte count、Address、Data 三个段内所有 byte 全部相加得到 sum，截取 sum 的 LSB（最低字节），再对该 LSB 取其反码（默认该 LSB 为负数的低 8bit 数据位(注意 8bit 中没有符号位)，其反码为原码各 bit 取反）得到 checksum。比如 LSB 是 0xA5，其反码为 0x5A，则 checksum 为 0x5A。

### S19

#### 3.1 S-Record 帧格式

S-Record 每帧由下表列出的 6 部分组成：

| 帧段名          | Start code                   | Record type               | Byte count                                 | Address            | Data       | Checksum |
| --------------- | ---------------------------- | ------------------------- | ------------------------------------------ | ------------------ | ---------- | -------- |
| 帧段内容        | 固定前导码'S'，十六进制 0x53 | 帧类型'0'-'9'，有 10 种帧 | 帧数据长度（包含后续段地址、数据、校验和） | 机器码数据存储地址 | 机器码数据 | 校验和   |
| 帧段长度(bytes) | 1                            | 1                         | 1\*2                                       | (2-4)\*2           | (0-255)\*2 | 1\*2     |

#### 3.2 S-Record 帧类型

前面说到一共有 10 种类型的帧，其中最重要也是数量最多的帧是数据帧，数据帧按地址长度可分为 16bit、24bit、32bit 地址长度数据帧，除了数据帧，还有其他种类帧，下面来统一介绍：

| 帧类型码 | 帧类型                   | 帧描述                                                   | 帧举例                                                                               |
| -------- | ------------------------ | -------------------------------------------------------- | ------------------------------------------------------------------------------------ |
| '0'      | 文件起始帧               | 用于表明 S-Record 文件的开始                             | 标明文件名为 HDR 的文件起始帧 S00600004844521B                                       |
| '1'      | 数据帧 x16 地址          | 以 16bit 地址描述开始的最大 255 个字节有效机器码的数据帧 | 含 14bytes 机器码从 0x0038 地址处开始的数据帧 S111003848656C6C6F20776F726C642E0A0042 |
| '2'      | 数据帧 x24 地址          | 以 24bit 地址描述开始的最大 255 个字节有效机器码的数据帧 | 含 4bytes 机器码从 0x100000 地址处开始的数据帧 S2081000000400FA05E5                  |
| '3'      | 数据帧 x32 地址          | 以 32bit 地址描述开始的最大 255 个字节有效机器码的数据帧 | 含 4bytes 机器码从 0x13000160 地址处开始的数据帧 S309130001600400FA057F              |
| '4'      | N/A                      | 未定义                                                   | N/A                                                                                  |
| '5'      | 数据帧总数帧 x16         | 用 16bit count 记录数据帧总帧数的总数帧                  | 标明总数据帧为 4 帧的总数帧 S5030004F8                                               |
| '6'      | 数据帧总数帧 x24         | 用 24bit count 记录数据帧总帧数的总数帧                  | 标明总数据帧为 80000 帧的总数帧 S604080000F3                                         |
| '7'      | 起始程序地址（PC）帧 x32 | 含 32bit 起始 PC 的帧                                    | 标明起始 PC 为 0x10000000 的帧 S70510000000EA                                        |
| '8'      | 起始程序地址（PC）帧 x24 | 含 24bit 起始 PC 的帧                                    | 标明起始 PC 为 0x100000 的帧 S804100000EB                                            |
| '9'      | 起始程序地址（PC）帧 x16 | 含 16bit 起始 PC 的帧                                    | 标明起始 PC 为 0x0000 的帧 S9030000FC                                                |

| 帧类型 | 长度                              | 机器码存储地址 0x0020(长度为 4 -16bit 小端- 或 长度 8(32bit)) | 数据                             | 校验和 |
| ------ | --------------------------------- | ------------------------------------------------------------- | -------------------------------- | -------------------------- |
| S[0-9] | 13(去掉检验和,地址正好 0x10 大小) | 00 20                                                         | 0000001041000000DB180000CB190000 | A4                         |

##### hex 文件

:100000000020001041000000DB180000CB190000A8
:1000100000000000000000000000000000000000E0
:10002000000000000000000000000000071A0000AF
:1000300000000000000000001D1A00001F1A000050
:1000400072B60E480E498860002200230024002565
....
:101A30000123002413E00A68091D1A4202D04D4612
:101A40006D1E52191460121D001F0428FAD21500D1
:101A5000860701D51480AD1C184000D02C70086892
:101A6000091D0028E7D1080070BC7047C1FFFFFFC7
:0C1A70000802000014200010000000001C
:0400000500000041B6
:00000001FF

#### s19 文件

```
S00B000064656D6F2E73313944
S11300000020001041000000DB180000CB190000A4
S113001000000000000000000000000000000000DC
S1130020000000000000000000000000071A0000AB
S113003000000000000000001D1A00001F1A00004C
S113004072B60E480E498860002200230024002561
....
S1131A300123002413E00A68091D1A4202D04D460E
S1131A406D1E52191460121D001F0428FAD21500CD
S1131A50860701D51480AD1C184000D02C7008688E
S1131A60091D0028E7D1080070BC7047C1FFFFFFC3
S10F1A7008020000142000100000000018
S9030041BB
```
